<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Notion: import CSV with Markdown page content</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>document.documentElement.classList.add(localStorage.theme || ((matchMedia && matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light'))</script>
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/github-20220617.css">
  <link rel="stylesheet" href="/css/main-20230317.css">
  <link rel="icon" href="/favicon.ico" data-emoji="üèïÔ∏è">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="CodeJam">
  <meta property="og:title" content="Notion: import CSV with Markdown page content">
  <meta property="og:description" content="As I was migrating a GitHub project to Notion, one of the solutions I considered was to import a CSV using the native import feature.">
  <meta property="og:image" content="https://www.codejam.info/img/profile.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@valeriangalliat">
  <meta name="twitter:creator" content="@valeriangalliat">
</head>
<body class="post">
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/val.html">About</a></li>
      <li><a href="/now.html">Now</a></li>
      <li class="pull"><button title="Toggle theme" class="change-color-theme">üåù</button></li>
    </ul>
  </nav>
  <header>
    <div class="header-inner">
      <div class="content">
<h1>Notion: import CSV with Markdown page content</h1>
<p class="date">May 11, 2022</p>
      </div>
    </div>
  </header>
  <div class="content">
<p>As I was <a href="https://github.com/valeriangalliat/github-to-notion">migrating a GitHub project to Notion</a>,
one of the solutions I considered was to import a CSV using the native
import feature.</p>
<p>Sadly, there was no way to set the page content from the rows in the CSV
file. All the columns are imported as custom attributes and we
can‚Äôt pick one to be used as page content.</p>
<p>So I ended up making a <a href="https://github.com/valeriangalliat/github-to-notion/blob/master/import-to-notion.js">custom script</a>
using the <a href="https://developers.notion.com/">Notion API</a>. And while this
script is very specific to my use case, I figured it would be good to
generalize it and go back to my original CSV idea, this way other people
can leverage it for their own projects!</p>
<h2 id="the-way-it-works" tabindex="-1"><a class="header-anchor" href="#the-way-it-works"><span>The way it works</span></a></h2>
<p>The idea is simple. First, we import a CSV using the native import
feature, which results in our ‚Äúcontent‚Äù column being imported as a page
attribute. Then we run a simple scripts that goes through all the pages
with a non-empty ‚Äúcontent‚Äù column, and moves it to the page body
instead!</p>
<p>I named this script <a href="https://github.com/valeriangalliat/notion-property-to-content">Notion property to content</a>
(I know, I suck at naming things), and with a bit terminal fu, you can
use it on your own Notion imports!</p>
<h2 id="running-the-script" tabindex="-1"><a class="header-anchor" href="#running-the-script"><span>Running the script</span></a></h2>
<p>It requires <a href="https://nodejs.org/">Node.js</a> version 18 or later.</p>
<pre><code class="hljs language-sh">git <span class="hljs-built_in">clone</span> https://github.com/valeriangalliat/notion-property-to-content
<span class="hljs-built_in">cd</span> notion-property-to-content
npm install
</code></pre>
<p>From there, we need a Notion token. For this, you need to
<a href="https://www.notion.so/my-integrations">create a new integration</a>. The
default parameters should do. At the end Notion will give you a token
that we‚Äôll set in an environment variable (lines starting with <code>$</code> means
an actual command that you run, but don‚Äôt type the <code>$</code>):</p>
<pre><code class="hljs language-console"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">read</span> NOTION_TOKEN</span>
Paste the token here
<span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">export</span> NOTION_TOKEN</span>
</code></pre>
<p>Now you need to share the database you‚Äôre working on with your newly
created integration. On the top right corner of your database page, hit
the ‚Äúshare‚Äù button:</p>
<figure class="center">
  <img src="../../img/2022/05/notion-share.png">
</figure>
<p>Click on the search field to reveal your integration, and click
‚Äúinvite‚Äù:</p>
<figure class="center">
  <img src="../../img/2022/05/notion-invite.png">
</figure>
<p>While you‚Äôre on the database page, copy its ID from the URL bar, for
example if the current URL is:</p>
<pre><code class="hljs">https://www.notion.so/513bff94c55a4cf09a66a336c87e7964?v=0eb7b11463c94c3a84786bd3191e4032
</code></pre>
<p>Copy this part:</p>
<pre><code class="hljs">513bff94c55a4cf09a66a336c87e7964
</code></pre>
<p>Finally, back to the terminal, you can run the following command to
move the property of your choice to the page content:</p>
<pre><code class="hljs language-sh">node property-to-content.js &lt;database-id&gt; &lt;property&gt; --remove
</code></pre>
<p>Where <code>&lt;database-id&gt;</code> is the ID of your database and <code>&lt;property&gt;</code> is the
name of the property you want to use as page content. For example if
your database ID is <code>513bff94c55a4cf09a66a336c87e7964</code> and your property
is named ‚ÄúPage Content‚Äù, run:</p>
<pre><code class="hljs language-sh">node property-to-content.js 513bff94c55a4cf09a66a336c87e7964 <span class="hljs-string">&#x27;Page Content&#x27;</span> --remove
</code></pre>
<div class="note">
<p><strong>Note:</strong> I recommend you to run this on a test database first just to
make sure it behaves the way you want with your data!</p>
</div>
<p>The <code>--remove</code> part is to empty the property after writing its value to
the actual page content. It is useful so that if you were to run the
script again, it doesn‚Äôt copy the content a second time at the end of
the page, as the script only goes through non-empty content values.</p>
<p>If you plan to only run this once and want to keep the content in its
original property, don‚Äôt add the <code>--remove</code> part.</p>
<h2 id="need-some-help" tabindex="-1"><a class="header-anchor" href="#need-some-help"><span>Need some help?</span></a></h2>
<p>If you need help with this, or importing data to your Notion workspace
and working with the Notion API in general, don‚Äôt hesitate to
<a href="/val.html#contact">shoot me an email</a>, I‚Äôll be happy to help you on a
consulting basis! You‚Äôll even get a 20% discount if you tell me you‚Äôre
coming from this article. üòú</p>
<section class="post-footer">
  <h3>Want to leave a comment?</h3>
  <p>
    Start a conversation on <a href="https://twitter.com/valeriangalliat">Twitter</a> or send me an <a href="mailto:val@codejam.info">email</a>! üíå<br>
    This post helped you? <a href="https://ko-fi.com/funkyval">Buy me a coffee</a>! üçª
  </p>
</section>
  </div>
  <footer>
    <div class="footer-inner">
      <figure>
        <a href="/val.html">
          <img alt="The author (Val) in front of a mountain" src="/img/profile.jpg">
        </a>
      </figure>
      <div class="footer-content">
        <p>
          Made with üß° by <a href="/val.html">Val</a>.
          Generated from a <abbr title="Pull requests welcome!"><a href="https://github.com/valeriangalliat/blog/tree/master/2022/05/notion-csv-markdown-page-content.md">public repository</a></abbr>.
        </p>
        <ul class="social">
          <li>
            <a href="https://twitter.com/valeriangalliat">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Twitter</title>
                <use href="/img/icons/407-twitter.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://github.com/valeriangalliat">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>GitHub</title>
                <use href="/img/icons/433-github.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/funkyval_/">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Instagram</title>
                <use href="/img/icons/403-instagram.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/@FunkyVal">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>YouTube</title>
                <use href="/img/icons/414-youtube.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://ko-fi.com/funkyval">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Buy me a coffee!</title>
                <use href="/img/icons/219-heart.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="/feed.xml">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>RSS</title>
                <use href="/img/icons/412-rss.svg#icon"></use>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </footer>
  <script src="/js/emojicon.js"></script>
  <script src="/js/main-20230317.js"></script>
</body>
</html>
