<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Listen a raw playlist with YouTube</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>document.documentElement.classList.add((matchMedia && matchMedia('(prefers-color-scheme: dark)').matches || localStorage.dark) ? 'dark' : 'light')</script>
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/github-20220617.css">
  <link rel="stylesheet" href="/css/main-20220617.css">
  <link rel="icon" href="/favicon.ico" data-emoji="üèïÔ∏è">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="CodeJam">
  <meta property="og:title" content="Listen a raw playlist with YouTube">
  <meta property="og:description" content="Sometimes the easiest way to share a playlist is to just give a raw list of song titles and artists. However it‚Äôs not straightforward to actually play it.">
  <meta property="og:image" content="https://www.codejam.info/img/profile.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@valeriangalliat">
  <meta name="twitter:creator" content="@valeriangalliat">
</head>
<body class="post">
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/val.html">About</a></li>
    </ul>
    <ul>
      <li><button title="Toggle theme" class="change-color-theme">üåù</button></li>
    </ul>
  </nav>
  <header>
    <div class="header-inner">
      <div class="content">
<h1>Listen a raw playlist with YouTube</h1>
<p class="date">May 22, 2015</p>
      </div>
    </div>
  </header>
  <div class="content">
<p>Sometimes the easiest way to share a playlist is to just give a raw list
of song titles and artists. However it‚Äôs not straightforward to actually
<em>play</em> it.</p>
<p>I wrote a little script to ease the pain, playling each song from
YouTube directly with <a href="http://mpv.io/">mpv</a> (my player of choice).</p>
<pre><code class="hljs language-sh"><span class="hljs-meta">#!/bin/sh -e</span>

<span class="hljs-function"><span class="hljs-title">go</span></span>() {
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Playing <span class="hljs-variable">$1</span>&quot;</span>

    <span class="hljs-comment"># Force TTY input for controls even if titles are read from input</span>
    mpv --vid=no <span class="hljs-string">&quot;<span class="hljs-subst">$(youtube-dl -g <span class="hljs-string">&quot;ytsearch:<span class="hljs-variable">$1</span>&quot;</span> | tail -1)</span>&quot;</span> &lt; /dev/tty
}

<span class="hljs-comment"># All arguments as a single space separated string</span>
<span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;$*&quot;</span> ]; <span class="hljs-keyword">then</span>
    go <span class="hljs-string">&quot;$*&quot;</span>
    <span class="hljs-built_in">exit</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Read one title per line</span>
<span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> title; <span class="hljs-keyword">do</span>
    go <span class="hljs-string">&quot;<span class="hljs-variable">$title</span>&quot;</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>You can see the latest source <a href="https://github.com/valeriangalliat/dotfiles/blob/master/bin/ytpl">here</a>.</p>
<p>You can either give a single song name as arguments (script arguments
are concatenated), or from standard input, one title per line.</p>
<p>For example:</p>
<pre><code class="hljs language-sh">ytpl &lt;&lt; <span class="hljs-string">EOF
born to be alive
girls got rhythm
EOF</span>
</code></pre>
<h2 id="continuing-a-playlist" tabindex="-1"><a class="header-anchor" href="#continuing-a-playlist"><span>Continuing a playlist</span></a></h2>
<p>If you ever stop the script in the middle of a playlist, and want to
continue later, just pipe the playlist file in <code>sed</code>:</p>
<pre><code class="hljs language-sh">sed <span class="hljs-string">&#x27;0,/&lt;title&gt;/d&#x27;</span> &lt; playlist | ytpl
</code></pre>
<p>Where <code>&lt;title&gt;</code> is the title of the song you stopped at.</p>
<section class="post-footer">
  <h3>Want to leave a comment?</h3>
  <p>
    Start a conversation on <a href="https://twitter.com/valeriangalliat">Twitter</a> or send me an <a href="mailto:val@codejam.info">email</a>! üíå<br>
    This post helped you? <a href="https://ko-fi.com/funkyval">Buy me a coffee</a>! üçª
  </p>
</section>
  </div>
  <footer>
    <figure>
      <a href="/val.html">
        <img alt="The author (Val) looking at a beer glass shining in the beautiful sun" src="/img/profile.jpg">
      </a>
    </figure>
    <div class="footer-content">
      <p>
        Made with üß° by <a href="/val.html">Val</a>.
        Generated from a <abbr title="Pull requests welcome!"><a href="https://github.com/valeriangalliat/blog/tree/master/2015/05/listen-a-raw-playlist-with-youtube.md">public repository</a></abbr>.
      </p>
      <ul class="social">
        <li>
          <a href="https://twitter.com/valeriangalliat">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>Twitter</title>
              <use href="/img/icons/407-twitter.svg#icon"></use>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://github.com/valeriangalliat">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>GitHub</title>
              <use href="/img/icons/433-github.svg#icon"></use>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/funkyval_/">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>Instagram</title>
              <use href="/img/icons/403-instagram.svg#icon"></use>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/FunkyVal">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>YouTube</title>
              <use href="/img/icons/414-youtube.svg#icon"></use>
            </svg>
          </a>
        </li>
        <li>
          <a href="https://ko-fi.com/funkyval">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>Buy me a coffee!</title>
              <use href="/img/icons/219-heart.svg#icon"></use>
            </svg>
          </a>
        </li>
        <li>
          <a href="/feed.xml">
            <svg width="16" height="16" viewBox="0 0 16 16">
              <title>RSS</title>
              <use href="/img/icons/412-rss.svg#icon"></use>
            </svg>
          </a>
        </li>
      </ul>
    </div>
  </footer>
  <script src="/js/emojicon.js"></script>
  <script src="/js/main-20220617.js"></script>
</body>
</html>
