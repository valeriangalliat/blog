<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Why I switched to Firefox Lockwise as my password manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/github.css">
  <link rel="stylesheet" href="/css/main-20211017.css">
  <link rel="icon" href="/favicon.ico" data-emoji="üèï">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="CodeJam">
  <meta property="og:title" content="Why I switched to Firefox Lockwise as my password manager">
  <meta property="og:description" content="First thing first, the purpose of this article is not to convince you to do the same. I just like to document the reasoning behind some of my choices, because I think it can be interesting. If you‚Äôre curious about this, read on!">
  <meta property="og:image" content="https://www.codejam.info/img/profile.jpg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@valeriangalliat">
  <meta name="twitter:creator" content="@valeriangalliat">
</head>
<body class="post">
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/val.html">About</a></li>
      <li><a href="https://photography.codejam.info/">Photography</a></li>
    </ul>
    <ul class="social">
      <li>
        <a href="https://www.youtube.com/FunkyVal">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>YouTube</title>
            <use href="/img/icons/414-youtube.svg#icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://www.instagram.com/funkyval_/">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>Instagram</title>
            <use href="/img/icons/403-instagram.svg#icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://twitter.com/valeriangalliat">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>Twitter</title>
            <use href="/img/icons/407-twitter.svg#icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://github.com/valeriangalliat">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>GitHub</title>
            <use href="/img/icons/433-github.svg#icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://ko-fi.com/funkyval">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>Buy me a coffee!</title>
            <use href="/img/icons/219-heart.svg#icon"></use>
          </svg>
        </a>
      </li>
      <li>
        <a href="/feed.xml">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <title>RSS</title>
            <use href="/img/icons/412-rss.svg#icon"></use>
          </svg>
        </a>
      </li>
    </ul>
  </nav>
  <header>
    <div class="header-inner">
      <div class="content">
<h1>Why I switched to Firefox Lockwise as my password manager</h1>
<p class="date">August 8, 2021</p>
      </div>
    </div>
  </header>
  <div class="content">
<p>First thing first, the purpose of this article is not to convince you to
do the same. I just like to document the reasoning behind some of my
choices, because I think it can be interesting. If you‚Äôre curious about
this, read on!</p>
<p>Also, this post is not going to be about <em>why you should use a password
manager</em> in the first place. But you should probably use a password
manager, and in case you don‚Äôt, I‚Äôll write a quick section about that.
Feel free to <a href="#why-firefox-lockwise">skip it</a>!</p>
<h2 id="why-you-should-use-a-password-manager" tabindex="-1"><a class="header-anchor" href="#why-you-should-use-a-password-manager"><span>Why you should use a password manager</span></a></h2>
<ul>
<li>Passwords are the most widespread way of authentication to websites
and other services on the internet.</li>
<li>The average user tends to log in <a href="https://blog.dashlane.com/world-password-day/">on over a hundred services</a>,
and it‚Äôs only going to grow over time.</li>
</ul>
<p>This brings a number of challenges that are addressed by some common
ways of dealing with passwords, some worst than others, which I‚Äôll go
through below.</p>
<h3 id="using-a-single-password" tabindex="-1"><a class="header-anchor" href="#using-a-single-password"><span>Using a single password</span></a></h3>
<p>If you use the same password everywhere, would a single of the services
you signed up with have a security issue, that allows an attacker to
gain access to your password, and all of your other accounts sharing
that password can be considered compromised. Not great.</p>
<p>Using a different password everywhere mitigates that, but it‚Äôs not
scalable for most of us to remember hundreds of different passwords.</p>
<h3 id="deriving-a-password" tabindex="-1"><a class="header-anchor" href="#deriving-a-password"><span>Deriving a password</span></a></h3>
<p>A common solution that people found to help with this was to <em>derive</em> a
primary password for each service. Typically, since most people can‚Äôt
perform <a href="https://en.wikipedia.org/wiki/HKDF">HKDF</a> or
<a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a> mentally, we tend to just
prepend or append the base password to the website name or something
similar.</p>
<p>This is only an illusion of security and it‚Äôs fairly easy for an
attacker with access to one of your ‚Äúunique‚Äù passwords to guess in a
limited number of tries the corresponding passwords to other websites.</p>
<h3 id="using-oauth" tabindex="-1"><a class="header-anchor" href="#using-oauth"><span>Using OAuth</span></a></h3>
<p><a href="https://en.wikipedia.org/wiki/OAuth">OAuth</a>, e.g. ‚Äúsign in with Google
/ Apple / Twitter / Facebook / GitHub‚Äù is another common way to
authenticate to services, and is a solid alternative to passwords in a
lot of cases, but it is limited to the support of the websites you‚Äôre
trying to access.</p>
<p>For example, while your local grocery store might allow you to sign in
with Google, or the latest trending project with a .io domain probably
allows you to sign in with GitHub, it would be very weird if Apple /
Twitter / Facebook allowed you to sign in with Google, or any possible
combinations among them, meaning that you‚Äôll need a different password
at least for all of those. And anyways, a lot of services just don‚Äôt
support OAuth whatsoever meaning you‚Äôll need unique passwords for them
too.</p>
<p>In practice, OAuth is useful, but doesn‚Äôt solve the problem.</p>
<h3 id="using-a-password-manager" tabindex="-1"><a class="header-anchor" href="#using-a-password-manager"><span>Using a password manager</span></a></h3>
<p>A password manager takes away from you the responsibility of remembering
passwords. This means that it‚Äôs now easy to have a strong, unique
password for every account you have. The only password you need to
remember is now the one of your password manager (unless it uses a
different kind of authentication).</p>
<p>While you can import your existing (potentially weak, because you had to
remember them) passwords, moving to a password manager is also a good
opportunity to replace them with strong, randomly generated passwords.</p>
<p>The downside is that the primary password you choose for your password
manager becomes a single point of failure. If it is compromised, all
your passwords are compromised.</p>
<p>There‚Äôs a <a href="https://security.stackexchange.com/questions/152269/a-password-manager-a-single-point-of-failure-then-why-is-it-so-often-recommende">great thread on Stack Exchange</a>
about the tradeoffs of password managers.</p>
<p>Still, to mitigate that, I would recommend using a passphrase instead of
a password, as pointed out by <a href="https://xkcd.com/936/">this legendary xkcd</a>.</p>
<figure class="center">
  <a href="https://xkcd.com/936/">
    <img alt="Passphrases vs. passwords" src="https://imgs.xkcd.com/comics/password_strength.png">
  </a>
</figure>
<h2 id="why-firefox-lockwise" tabindex="-1"><a class="header-anchor" href="#why-firefox-lockwise"><span>Why Firefox Lockwise</span></a></h2>
<p>Now we‚Äôre on the same page about using a password manager (or not),
let‚Äôs see why I, personally, chose to move to Lockwise.</p>
<p>But before digging in what‚Äôs good or not about it, let me give a bit of
context about the way I use a password manager.</p>
<ul>
<li>I‚Äôm primarily a desktop (and laptop) user. I barely use my phone for
anything else than texting.</li>
<li>For the rare times I use my phone for something else, I want to be
able to easily access my passwords, and login to <em>existing</em> accounts
in the browser (I use Firefox for Android) and native apps.</li>
<li>I use Firefox passwords autosave/autofill feature (offline) as a
companion to my current CLI password manager. I want to keep at least
the same level of convenience, and ideally a better integration.</li>
<li>I need my password manager to be open source. If I can‚Äôt review the
code that‚Äôs going to deal with my passwords, I can‚Äôt trust it.</li>
<li>I currently don‚Äôt pay for any subscription other than my ISP and
mobile carrier, and I‚Äôd like to keep things this way.</li>
</ul>
<div class="note">
<p><strong>Fun fact!</strong> Before that, I was using my own password manager which was
just a tiny layer of (desktop-only) convenience over Git, PBKDF2 and
AES-256. While it could have worked on mobile, I was lazy to build an
app for it and decided it was time to change.</p>
</div>
<h2 id="pros" tabindex="-1"><a class="header-anchor" href="#pros"><span>Pros</span></a></h2>
<p>Let‚Äôs start with the pros of Firefox Lockwise. Sadly, there‚Äôs not a lot,
but their impact is so big for me that they make all the difference.</p>
<h3 id="it-s-native-to-firefox" tabindex="-1"><a class="header-anchor" href="#it-s-native-to-firefox"><span>It‚Äôs native to Firefox</span></a></h3>
<p>Lockwise is not a browser extension, it‚Äôs directly baked in Firefox
itself. This means that it is not limited to a browser extension sandbox
like third-party password managers. It‚Äôs basically just a cool name for
Firefox‚Äôs native passwords autofill engine, and the <code>passwords</code>
collection of Firefox Sync.</p>
<p>This has the advantage of allowing for a super smooth user experience
(at least for the happy path it was designed for). It pretty much always
does the right thing at the right time when it‚Äôs about filling login
forms, or asking to save new login information.</p>
<p>For comparison, when I was using Bitwarden (which to be honest, I find
superior in all other aspects), the experience wasn‚Äôt as seamless. Quite
often I wouldn‚Äôt be prompted to save new passwords, and I had to go in
the extension UI to add them manually, or it would fail to fill a login
form for which it had matching credentials, making me open the extension
to explicitly ask it to fill out the boxes. I think most of those issues
weren‚Äôt necessarily ‚Äúpoor quality‚Äù from Bitwarden, but more due to the
fact it‚Äôs limited to a browser extension sandbox, and cannot get the
same level of integration than the browser engine itself.</p>
<p>Because the happy path Lockwise was designed for overlaps so much with
my own usage (which might not be the case of everybody), this makes it a
great fit for me, compared to Bitwarden, which doesn‚Äôt perform as well
on my main use case, but does a better job at pretty much everything
else.</p>
<p>In other words, Lockwise is great 95% the time I use it, but sucks at
the remaining 5%, while Bitwarden is just consistently good (but not
great).</p>
<h3 id="it-s-part-of-firefox-sync" tabindex="-1"><a class="header-anchor" href="#it-s-part-of-firefox-sync"><span>It‚Äôs part of Firefox Sync</span></a></h3>
<p>As I mentioned in the previous part, Lockwise is built on top of Firefox
Sync, which happens to be the tool I use to synchronise my tabs and
bookmarks between all my devices.</p>
<p>At that point it seems like an obvious solution to also use it for
my passwords. After all, if the tool I‚Äôm already using fits my needs,
why try to add another one?</p>
<h2 id="cons" tabindex="-1"><a class="header-anchor" href="#cons"><span>Cons</span></a></h2>
<p>Now as of today, Lockwise is missing a number of features one would
expect from a password manager, some of them being being so basic that
it can look pretty ridiculous.</p>
<h3 id="no-extension-for-other-browsers" tabindex="-1"><a class="header-anchor" href="#no-extension-for-other-browsers"><span>No extension for other browsers</span></a></h3>
<p>Lockwise is part of Firefox, but there‚Äôs no integration with other
browsers. If Firefox isn‚Äôt your primary browser, you‚Äôre probably not
reading this anyways, but if you need to have convenient access to your
passwords in another browser, Lockwise is definitely not for you.</p>
<p>You can obviously still open Lockwise in Firefox and copy passwords to
your clipboard to use them anywhere, but in no way this can compete with
a proper integration.</p>
<h3 id="can-t-generate-new-passwords-on-mobile" tabindex="-1"><a class="header-anchor" href="#can-t-generate-new-passwords-on-mobile"><span>Can‚Äôt generate new passwords on mobile</span></a></h3>
<p>From the mobile version of Firefox, we can‚Äôt generate new passwords.
Neither can we from the Lockwise standalone mobile app.</p>
<p>If we submit a login form with a new password that we manually typed,
both Firefox and the Lockwise app will happily ask us if we want to
update an existing entry or save a new entry, but we just don‚Äôt have the
option to ‚Äúsuggest a strong password‚Äù like the desktop version does.</p>
<p>This is probably a dealbreaker for a lot of people, unless you only use
your phone a negligible part of the time like I do, and mostly as a
read-only client as far as for passwords are concerned.</p>
<h3 id="the-mobile-app-crashes-regularly" tabindex="-1"><a class="header-anchor" href="#the-mobile-app-crashes-regularly"><span>The mobile app crashes regularly</span></a></h3>
<p>While Firefox for Android works flawlessly for me, the Lockwise app
crashes pretty often (something as simple as trying to edit an entry
from the app). Since Firefox also have a UI to manage (synced)
passwords, I use that instead. It‚Äôs not something I need to do really
often on mobile anyways, if ever really.</p>
<p>The only reason I have the Lockwise app installed is to be able to
autofill a password in other native apps, and it does a good job at
this.</p>
<h3 id="no-totp-support" tabindex="-1"><a class="header-anchor" href="#no-totp-support"><span>No TOTP support</span></a></h3>
<p><a href="https://en.wikipedia.org/wiki/Time-based_One-Time_Password">TOTP</a>
(time-based one-time password) is a common mechanism to provide
<a href="https://en.wikipedia.org/wiki/Multi-factor_authentication">multi-factor authentication</a>
through authenticator apps. If you‚Äôre new to the concept, it‚Äôs
essentially a second password that is randomly generated by the issuing
service during setup, that you store in the authenticator app of your
choice, usually through a QR code.</p>
<p>When you later login on that service, on top of your actual password,
they‚Äôll request a confirmation code. Your authenticator app can use the
key that was configured during setup, together with the current time,
rounded down to the closest 30 seconds (or as configured otherwise) to
<a href="https://en.wikipedia.org/wiki/HMAC">generate</a> a short code that the
service will be able to verify only for that period of time.</p>
<p>It‚Äôs a common feature for password managers to support acting as a TOTP
authenticator, and <a href="https://jamesrcridland.medium.com/should-you-store-your-2fa-totp-tokens-in-your-password-manager-9798199b728">this post</a>
explains better than me why it‚Äôs a good thing. Sadly Lockwise doesn‚Äôt
support it.</p>
<p>While I would love TOTP support, it‚Äôs not a critical-enough feature for
me to trade off the quality of experience I otherwise have with Lockwise
to move to Bitwarden.</p>
<p>It‚Äôs especially not a big deal for me because I already have my own
‚Äúauthenticator app‚Äù based on <a href="https://www.npmjs.com/package/totp-generator">totp-generator</a>,
and I can <a href="../09/totp-2fa-support-any-password-manager.html">hack my way around</a>
storing the TOTP secrets in Lockwise. While it‚Äôs far from a world-class
integration like the one Bitwarden offers, it‚Äôs good enough for me for
the time being.</p>
<h3 id="no-cli" tabindex="-1"><a class="header-anchor" href="#no-cli"><span>No CLI</span></a></h3>
<p>A CLI would have been a nice to have, but I rarely need to input
passwords on the command line these days anyways, since most tools now
use OAuth. Worst case, I can build one myself.</p>
<h3 id="no-explicitly-public-api-let-me-explain" tabindex="-1"><a class="header-anchor" href="#no-explicitly-public-api-let-me-explain"><span>No explicitly public API (let me explain)</span></a></h3>
<p>I‚Äôm not going to say that there‚Äôs no public API, because <a href="https://mozilla-services.readthedocs.io/en/latest/sync/">there is</a>.
But this document <a href="scripting-firefox-sync-lockwise-complete-oauth.html#bonus-references">is not enough by itself</a>
to do anything useful with your Lockwise passwords.</p>
<p>It <a href="scripting-firefox-sync-lockwise-existing-clients.html">took</a>
<a href="scripting-firefox-sync-lockwise-figuring-the-protocol.html">me</a>
<a href="scripting-firefox-sync-lockwise-understanding-browserid.html">days</a>
to figure out how to implement what was the legacy way
of reading passwords from Firefox Sync, and it took me
<a href="scripting-firefox-sync-lockwise-hybrid-oauth.html">even</a>
<a href="scripting-firefox-sync-lockwise-complete-oauth.html">longer</a>
to figure out the little documented but up-to-date way of doing so. I
wrote about it <a href="scripting-firefox-sync-lockwise-existing-clients.html">in this series</a>,
and I really wish it didn‚Äôt need to be that long.</p>
<p>It seems to me that the main reason this API and documentation is public
is because Mozilla works in the open. They share all their code,
documentation, and even some (most?) of their communications. But they
don‚Äôt necessarily <em>intend</em> them to be consumed by third-party developers
and end-users like me.</p>
<div class="note">
<p><strong>Positive note:</strong> the fact that it was particularly hard to build
something with the ‚Äúpublic but not really‚Äù Firefox Sync API made me dig
very deep in the code and protocols behind it, and I now have a better
understanding of the tool than I would have had if it featured a
comprehensive API client in the first place. Because I ‚Äúreviewed‚Äù so
much of the code behind Lockwise, I‚Äôm now even more confident about
trusting it with my passwords.</p>
</div>
<h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2>
<p>I find it pretty funny that the main reason I‚Äôm switching password
managers is to be able to use it from my phone, yet I chose Lockwise
which have a pretty limited mobile experience.</p>
<p>It just turns out that my use case on mobile overlaps exactly with the
part that the Lockwise app is good at (being a read-only password
manager).</p>
<p>Overall, the fact that Lockwise is baked in the browser gives it the
ability to provide a better experience than an extension would, and
while they do a solid job on desktop, they don‚Äôt leverage that ability
to its full potential on mobile.</p>
<p>If you‚Äôre a heavy mobile user, Lockwise is probably a no-go just because
of the lack of password generation feature (Bitwarden is probably a
better option for you at that point), but otherwise, it does an
excellent job at giving you access to existing passwords on your phone,
whether it‚Äôs in the browser or native apps.</p>
<p>In the end, it doesn‚Äôt really matter what password manager you‚Äôre going
to use, as long as you actually use one!</p>
<section class="post-footer">
  <h3>Want to leave a comment?</h3>
  <p>
    Start a conversation on <a href="https://twitter.com/valeriangalliat">Twitter</a> or send me an <a href="mailto:val@codejam.info">email</a>! üíå<br>
    This post helped you? <a href="https://ko-fi.com/funkyval">Buy me a coffee</a>! üçª
  </p>
</section>
  </div>
  <footer>
    <p>
      Made with üß° by <a href="/val.html">Val</a> in Montreal.<br>
      Generated from a <a href="https://github.com/valeriangalliat/blog/tree/master/2021/08/why-i-switched-to-firefox-lockwise-as-my-password-manager.md">public repository</a>. Feel free to <a href="/val.html#contact">contact me</a>, I'd love to hear your thoughts!
    </p>
  </footer>
  <script src="/js/emojicon.js"></script>
  <script src="/js/main-20210719.js"></script>
</body>
</html>
