<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>What‚Äôs currently playing at Shakti Rock Gym?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>document.documentElement.classList.add(localStorage.theme || ((matchMedia && matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light'))</script>
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/github-20220617.css">
  <link rel="stylesheet" href="/css/main-20230317.css">
  <link rel="icon" href="/favicon.ico" data-emoji="üèïÔ∏è">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="CodeJam">
  <meta property="og:title" content="What‚Äôs currently playing at Shakti Rock Gym?">
  <meta property="og:description" content="Shakti is a rock climbing gym in Montreal, Canada, and it‚Äôs my favorite gym. The first thing that struck me 4 years ago when I started climbing there is the music.">
  <meta property="og:image" content="https://www.codejam.info/img/2020/09/shakti.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@valeriangalliat">
  <meta name="twitter:creator" content="@valeriangalliat">
</head>
<body class="post">
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/val.html">About</a></li>
      <li><a href="https://photography.codejam.info/">Photography</a></li>
      <li class="pull"><button title="Toggle theme" class="change-color-theme">üåù</button></li>
    </ul>
  </nav>
  <header class="hero" style="background-image: url(../../img/2020/09/shakti.jpg); background-position: 25% 85%">
    <div class="header-inner">
      <div class="content">
<h1>What‚Äôs currently playing at Shakti Rock Gym?</h1>
<p class="date">September 24, 2020</p>
      </div>
    </div>
  </header>
  <div class="content">
<p>Shakti is a rock climbing gym in Montreal, Canada, and it‚Äôs my favorite
gym. The first thing that struck me 4 years ago when I started climbing
there is the music.</p>
<h2 id="tldr" tabindex="-1"><a class="header-anchor" href="#tldr"><span>TLDR</span></a></h2>
<p>I made a Shakti radio, and you can find it on <a href="https://open.spotify.com/playlist/5qgFzOvllbtIehVfd66SZG">Spotify</a> and
<a href="https://www.youtube.com/playlist?list=PL3gQ6-WYh7kX1CARbXnNuP4kgnG0E5Guu">YouTube</a>. Those are regular playlists, but they‚Äôre updated in real time with
the songs that are playing in the gym.</p>
<p>If you tune to the last song (or the one before to be safe), you should
be able to listen <em>live</em> to the music at Shakti. Enjoy!</p>
<h2 id="what-about-the-music-at-shakti" tabindex="-1"><a class="header-anchor" href="#what-about-the-music-at-shakti"><span>What about the music at Shakti?</span></a></h2>
<p>It‚Äôs just <em>so good</em>.</p>
<p>I was constantly shaking my head bouncing to the music, it hypes me a
lot and this kind of atmosphere really drives my energy and motivation.</p>
<p>It‚Äôs that good that most of the time, either I know the song and it‚Äôs a
song I love, or I don‚Äôt know the song and I‚Äôm going straight away to
Shazam it because I love it.</p>
<p>And the best thing is, I don‚Äôt think they even <em>try</em>. It seems that
whoever is running the gym at a given time is putting whatever music
they feel like (so you can usually notice patterns depending on who‚Äôs
there), which means a <em>lot</em> of different stuff is playing, whether it‚Äôs
funk, reggae, country, rap, even old school French rap, disco, Latino
music, classical, electro, and more!</p>
<p>As my friend Alex puts it brilliantly:</p>
<blockquote>
<p>It‚Äôs not necessarily music that I would have put myself, but it‚Äôs
always great.</p>
</blockquote>
<p>So why am I writing about that today?</p>
<h2 id="the-problem-with-shakti-music" tabindex="-1"><a class="header-anchor" href="#the-problem-with-shakti-music"><span>The problem with Shakti music</span></a></h2>
<p>When I‚Äôm at the gym, a lot of times I‚Äôm too lazy to go grab my phone and
Shazam a song, and I always wished I could just look up later ‚Äúwhat song
was playing at Shakti at 17:28‚Äù and find it again (something that you
can otherwise do on popular radio channels).</p>
<p>Other times, I was at home and I didn‚Äôt really have any inspiration on
what to listen to, and I wished I could just tune to whatever was
playing at Shakti because I knew it would be good.</p>
<p>Basically, I wanted a Shakti radio. And since it didn‚Äôt exist, I built
it.</p>
<h2 id="hacking-the-shakti-vibe-to-enjoy-it-all-the-time" tabindex="-1"><a class="header-anchor" href="#hacking-the-shakti-vibe-to-enjoy-it-all-the-time"><span>Hacking the Shakti vibe to enjoy it <em>all the time</em></span></a></h2>
<p>Regardless of who‚Äôs putting the music at the gym, they always do it
through the same Spotify account (<a href="https://open.spotify.com/user/shaktirockgym">shaktirockgym</a>).
You can publicly follow that account and it pops up in your ‚Äúfriend
activity‚Äù feed.</p>
<figure class="center">
  <img alt="Friend activity screenshot" src="../../img/2020/09/friend-activity.png">
</figure>
<p>As you can see we can‚Ä¶ see what‚Äôs currently playing at Shakti. As
well as what‚Äôs Alex listening to. Those are my two only friends, really.
I didn‚Äôt click ‚Äúfind friends‚Äù.</p>
<p>Most apps use HTTP to fetch their data, Spotify is no exception to that.
Doing the same calls as the app, you can programmatically know what your
friends are listening to.</p>
<p>In case you wonder, the call is:</p>
<pre><code class="hljs">https://guc-spclient.spotify.com/presence-view/v1/buddylist
</code></pre>
<p>By fetching periodically the ‚Äúfriend activity‚Äù feed, it‚Äôs then trivial
to append new songs to a playlist. Easy!</p>
<p>You can find the playlist on Spotify, it‚Äôs called <a href="https://open.spotify.com/playlist/5qgFzOvllbtIehVfd66SZG">Shakti Rock Gym Live</a>.</p>
<p>But I actually don‚Äôt use Spotify, I‚Äôm more of a YouTube person. So for
convenience, I made a <a href="https://www.youtube.com/playlist?list=PL3gQ6-WYh7kX1CARbXnNuP4kgnG0E5Guu">YouTube mirror</a>. It uses YouTube Music
in the background, and while there‚Äôs no bulletproof way of getting the
YouTube version of a given Spotify song, I‚Äôve found <a href="https://github.com/valeriangalliat/spotify-to-youtube">my method</a>
pretty reliable so far.</p>
<p>You can find the code to <a href="https://github.com/valeriangalliat/spotify-buddylist">fetch your friend activity</a>
on GitHub, as well as the code for the actual <a href="https://github.com/valeriangalliat/shakti-radio">Shakti
Radio</a> that feeds the playlists in real time.</p>
<section class="post-footer">
  <h3>Want to leave a comment?</h3>
  <p>
    Start a conversation on <a href="https://twitter.com/valeriangalliat">Twitter</a> or send me an <a href="mailto:val@codejam.info">email</a>! üíå<br>
    This post helped you? <a href="https://ko-fi.com/funkyval">Buy me a coffee</a>! üçª
  </p>
</section>
  </div>
  <footer>
    <div class="footer-inner">
      <figure>
        <a href="/val.html">
          <img alt="The author (Val) in front of a mountain" src="/img/profile.jpg">
        </a>
      </figure>
      <div class="footer-content">
        <p>
          Made with üß° by <a href="/val.html">Val</a>.
          Generated from a <abbr title="Pull requests welcome!"><a href="https://github.com/valeriangalliat/blog/tree/master/2020/09/what-s-currently-playing-at-shakti-rock-gym.md">public repository</a></abbr>.
        </p>
        <ul class="social">
          <li>
            <a href="https://twitter.com/valeriangalliat">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Twitter</title>
                <use href="/img/icons/407-twitter.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://github.com/valeriangalliat">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>GitHub</title>
                <use href="/img/icons/433-github.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/funkyval_/">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Instagram</title>
                <use href="/img/icons/403-instagram.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/@FunkyVal">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>YouTube</title>
                <use href="/img/icons/414-youtube.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://ko-fi.com/funkyval">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>Buy me a coffee!</title>
                <use href="/img/icons/219-heart.svg#icon"></use>
              </svg>
            </a>
          </li>
          <li>
            <a href="/feed.xml">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <title>RSS</title>
                <use href="/img/icons/412-rss.svg#icon"></use>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </footer>
  <script src="/js/emojicon.js"></script>
  <script src="/js/main-20230317.js"></script>
</body>
</html>
